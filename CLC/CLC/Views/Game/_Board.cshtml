@model CLC.Models.CellGrid
<div class="status">
    @if (Model.Lose)
    {
        <h3 class="alert-danger">GAME OVER</h3>
    }
    else if (Model.Win)
    {
        <h3 class="alert-success">YOU WON</h3>
    }
</div>
<table>
    @for (int y = 0; y < Model.Height; y++)
    {
        <tr class="grid-row">
            @for (int x = 0; x < Model.Width; x++)
            {
                <td class="grid-cell">

                    <button type="submit" name="cell" value="@x,@y"
                            @{
                                /*// class to determine how to display   */
                                /*// Display, if gameover*/
                                if (Model.Lose)
                                {
                                    if (Model.Cells[x, y].Mine)
                                    {
                                        @: class= "cell mine"
                                        @: disabled
                                    }
                                    @: class="cell cell-lose cell-adjacent-@Model.Cells[x, y].Adjacent"
                                    @: disabled
                                } 
                                /*// display, if win*/
                                else if (Model.Win)
                                {
                                    if (Model.Cells[x, y].Mine)
                                    {
                                        @: class="cell mine"
                                        @: disabled
                                    }
                                    @: class="cell cell-win cell-adjacent-@Model.Cells[x, y].Adjacent"
                                    @: disabled
                                } /* display if game continuing*/
                                else if (Model.Cells[x, y].Checked)
                                {
                                    @: class="cell cell-checked cell-adjacent-@Model.Cells[x, y].Adjacent"
                                    @: disabled
                                }
                                else
                                {
                                    @: class="cell"
                                }
                            }>
                        @if (Model.Cells[x, y].Checked && Model.Cells[x, y].Adjacent > 0 && !Model.Cells[x, y].Mine)
                        {
                            @Model.Cells[x, y].Adjacent
                        }
                        else if ((Model.Lose || Model.Win) && !Model.Cells[x, y].Mine)
                        {
                            @Model.Cells[x, y].Adjacent
                        }
                    </button>
                </td>
            }
        </tr>
    }
</table>